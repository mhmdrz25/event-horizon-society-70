
import React, { useState, useEffect } from 'react';
import { useParams, Link } from 'react-router-dom';
import { Button } from '@/components/ui/button';
import { Card, CardContent, CardHeader } from '@/components/ui/card';
import { Skeleton } from '@/components/ui/skeleton';
import { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';
import { ChevronRight, Calendar, User } from 'lucide-react';
import CommentSection from '@/components/common/CommentSection';

// Mock data - will be replaced with actual data from the announcements list
const mockAnnouncements = {
  '1': {
    id: '1',
    title: 'ÙØ±ØµØªâ€ŒÙ‡Ø§ÛŒ Ù¾Ú˜ÙˆÙ‡Ø´ÛŒ Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ù†Ø´Ø¬ÙˆÛŒØ§Ù† ÙÛŒØ²ÛŒÚ©',
    content: `Ú¯Ø±ÙˆÙ‡ ÙÛŒØ²ÛŒÚ© Ø¯Ø§Ù†Ø´Ú©Ø¯Ù‡ Ø¹Ù„ÙˆÙ… Ù¾Ø§ÛŒÙ‡ Ø¨Ø§ Ø§ÙØªØ®Ø§Ø± Ø§Ø¹Ù„Ø§Ù… Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ú©Ù‡ ÙØ±ØµØªâ€ŒÙ‡Ø§ÛŒ Ù¾Ú˜ÙˆÙ‡Ø´ÛŒ Ø¬Ø¯ÛŒØ¯ Ùˆ Ù‡ÛŒØ¬Ø§Ù†â€ŒØ§Ù†Ú¯ÛŒØ²ÛŒ Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ù†Ø´Ø¬ÙˆÛŒØ§Ù† Ú©Ø§Ø±Ø´Ù†Ø§Ø³ÛŒ Ùˆ ØªØ­ØµÛŒÙ„Ø§Øª ØªÚ©Ù…ÛŒÙ„ÛŒ ÙØ±Ø§Ù‡Ù… Ø´Ø¯Ù‡ Ø§Ø³Øª.

Ø§ÛŒÙ† ÙØ±ØµØªâ€ŒÙ‡Ø§ Ø´Ø§Ù…Ù„ Ù…ÙˆØ§Ø±Ø¯ Ø²ÛŒØ± Ù…ÛŒâ€ŒØ¨Ø§Ø´Ø¯:

ğŸ”¬ **Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ ØªØ­Ù‚ÛŒÙ‚Ø§ØªÛŒ Ø¯Ø± Ø­ÙˆØ²Ù‡ ÙÛŒØ²ÛŒÚ© Ú©ÙˆØ§Ù†ØªÙˆÙ…**
- Ù‡Ù…Ú©Ø§Ø±ÛŒ Ø¨Ø§ Ø§Ø³Ø§ØªÛŒØ¯ Ø¨Ø±Ø¬Ø³ØªÙ‡ Ø¨ÛŒÙ†â€ŒØ§Ù„Ù…Ù„Ù„ÛŒ
- Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø¢Ø²Ù…Ø§ÛŒØ´Ú¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø¬Ù‡Ø² Ùˆ Ù¾ÛŒØ´Ø±ÙØªÙ‡
- Ø§Ù…Ú©Ø§Ù† Ø§Ù†ØªØ´Ø§Ø± Ù…Ù‚Ø§Ù„Ù‡ Ø¯Ø± Ú˜ÙˆØ±Ù†Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ù…Ø¹ØªØ¨Ø±

ğŸ’° **Ø¨ÙˆØ¯Ø¬Ù‡ Ùˆ Ø­Ù…Ø§ÛŒØª Ù…Ø§Ù„ÛŒ**
- Ú©Ù…Ú© Ù‡Ø²ÛŒÙ†Ù‡ Ù…Ø§Ù‡Ø§Ù†Ù‡ Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ù†Ø´Ø¬ÙˆÛŒØ§Ù† Ù¾Ú˜ÙˆÙ‡Ø´Ú¯Ø±
- ØªØ§Ù…ÛŒÙ† Ù‡Ø²ÛŒÙ†Ù‡ Ù…ÙˆØ§Ø¯ Ùˆ ØªØ¬Ù‡ÛŒØ²Ø§Øª Ø¢Ø²Ù…Ø§ÛŒØ´Ú¯Ø§Ù‡ÛŒ
- Ø­Ù…Ø§ÛŒØª Ø§Ø² Ø´Ø±Ú©Øª Ø¯Ø± Ú©Ù†ÙØ±Ø§Ù†Ø³â€ŒÙ‡Ø§ÛŒ Ø¹Ù„Ù…ÛŒ

ğŸ“š **Ø¢Ù…ÙˆØ²Ø´ Ùˆ ØªÙˆØ³Ø¹Ù‡ Ù…Ù‡Ø§Ø±Øªâ€ŒÙ‡Ø§**
- Ú©Ø§Ø±Ú¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ ØªØ®ØµØµÛŒ Ø±ÙˆØ´â€ŒÙ‡Ø§ÛŒ ØªØ­Ù‚ÛŒÙ‚
- Ø¢Ù…ÙˆØ²Ø´ Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø±Ù‡Ø§ÛŒ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø¹Ù„Ù…ÛŒ
- Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒ Ø¯Ø± Ù†Ú¯Ø§Ø±Ø´ Ù…Ù‚Ø§Ù„Ø§Øª Ø¹Ù„Ù…ÛŒ

**Ø´Ø±Ø§ÛŒØ· Ø´Ø±Ú©Øª:**
- Ø­Ø¯Ø§Ù‚Ù„ Ù…Ø¹Ø¯Ù„ 16 Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ù†Ø´Ø¬ÙˆÛŒØ§Ù† Ú©Ø§Ø±Ø´Ù†Ø§Ø³ÛŒ
- Ø­Ø¯Ø§Ù‚Ù„ Ù…Ø¹Ø¯Ù„ 17 Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ù†Ø´Ø¬ÙˆÛŒØ§Ù† ØªØ­ØµÛŒÙ„Ø§Øª ØªÚ©Ù…ÛŒÙ„ÛŒ
- ØªØ¹Ù‡Ø¯ Ø¨Ù‡ Ù‡Ù…Ú©Ø§Ø±ÛŒ Ø­Ø¯Ø§Ù‚Ù„ ÛŒÚ© Ø³Ø§Ù„

**Ù…Ù‡Ù„Øª Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…:** ØªØ§ Ù¾Ø§ÛŒØ§Ù† Ù…Ø§Ù‡ Ø¬Ø§Ø±ÛŒ

Ù„Ø·ÙØ§Ù‹ Ù‚Ø¨Ù„ Ø§Ø² Ù…ÙˆØ¹Ø¯ Ù…Ù‚Ø±Ø± Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ø¨ÙˆØ¯Ø¬Ù‡ Ùˆ Ø´Ø±ÙˆØ¹ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ ØªØ­Ù‚ÛŒÙ‚Ø§ØªÛŒ Ø§Ù‚Ø¯Ø§Ù… Ú©Ù†ÛŒØ¯. Ø¨Ø±Ø§ÛŒ Ú©Ø³Ø¨ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨ÛŒØ´ØªØ± Ø¨Ø§ Ø¯ÙØªØ± Ú¯Ø±ÙˆÙ‡ ÙÛŒØ²ÛŒÚ© ØªÙ…Ø§Ø³ Ø¨Ú¯ÛŒØ±ÛŒØ¯.`,
    date: 'Û²Ûµ Ø§Ø±Ø¯ÛŒØ¨Ù‡Ø´Øª Û±Û´Û°Û´',
    author: {
      name: 'Ø¯Ú©ØªØ± Ø³Ø§Ø±Ø§ Ú†Ù†',
      email: 'sara.chen@university.ac.ir'
    },
    commentCount: 5,
  },
  '2': {
    id: '2',
    title: 'Ø³Ù…ÛŒÙ†Ø§Ø± Ú¯Ø±ÙˆÙ‡: Ù¾ÛŒØ´Ø±ÙØªâ€ŒÙ‡Ø§ÛŒ Ù…Ø­Ø§Ø³Ø¨Ø§Øª Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ',
    content: `Ø§Ù†Ø¬Ù…Ù† Ø¹Ù„Ù…ÛŒ Ø§ÙÙ‚ Ø±ÙˆÛŒØ¯Ø§Ø¯ Ùˆ Ú¯Ø±ÙˆÙ‡ ÙÛŒØ²ÛŒÚ© Ø¯Ø§Ù†Ø´Ú©Ø¯Ù‡ Ø¹Ù„ÙˆÙ… Ù¾Ø§ÛŒÙ‡ Ø¨Ø§ Ù…Ø¨Ø§Ù‡Ø§Øª Ø¯Ø¹ÙˆØª Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯ Ø§Ø² Ø³Ù…ÛŒÙ†Ø§Ø± Ø¹Ù„Ù…ÛŒ "Ù¾ÛŒØ´Ø±ÙØªâ€ŒÙ‡Ø§ÛŒ Ù†ÙˆÛŒÙ† Ø¯Ø± Ù…Ø­Ø§Ø³Ø¨Ø§Øª Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ Ùˆ Ú©Ø§Ø±Ø¨Ø±Ø¯Ù‡Ø§ÛŒ Ø¢Ù†".

**Ø³Ø®Ù†Ø±Ø§Ù†:** Ø¯Ú©ØªØ± Ø¬ÛŒÙ…Ø² Ù…ÛŒÙ„Ø±
Ø§Ø³ØªØ§Ø¯ Ø¯Ø§Ù†Ø´Ú¯Ø§Ù‡ MIT Ùˆ Ù…Ø­Ù‚Ù‚ Ø§Ø±Ø´Ø¯ Ø¢Ø²Ù…Ø§ÛŒØ´Ú¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ú©ÙˆØ§Ù†ØªÙˆÙ… IBM

**Ù…ÙˆØ¶ÙˆØ¹Ø§Øª Ø§Ø±Ø§Ø¦Ù‡:**
ğŸ”¹ Ù…Ø±ÙˆØ±ÛŒ Ø¨Ø± ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ
ğŸ”¹ Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ Ùˆ Ú©Ø§Ø±Ø¨Ø±Ø¯Ù‡Ø§ÛŒ Ø¹Ù…Ù„ÛŒ
ğŸ”¹ Ú†Ø§Ù„Ø´â€ŒÙ‡Ø§ Ùˆ ÙØ±ØµØªâ€ŒÙ‡Ø§ÛŒ Ø¢ÛŒÙ†Ø¯Ù‡
ğŸ”¹ Ù†Ù‚Ø´ Ù…Ø­Ø§Ø³Ø¨Ø§Øª Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ Ø¯Ø± Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ

**Ø¬Ø²Ø¦ÛŒØ§Øª Ø³Ù…ÛŒÙ†Ø§Ø±:**
ğŸ“… ØªØ§Ø±ÛŒØ®: Ù¾Ù†Ø¬â€ŒØ´Ù†Ø¨Ù‡ Û²Û° Ø§Ø±Ø¯ÛŒØ¨Ù‡Ø´Øª Û±Û´Û°Û´
ğŸ• Ø³Ø§Ø¹Øª: Û±Û°:Û°Û° ØªØ§ Û±Û²:Û°Û°
ğŸ“ Ù…Ú©Ø§Ù†: Ø¢Ù…ÙÛŒâ€ŒØªØ¦Ø§ØªØ± Ø¯Ø§Ù†Ø´Ú©Ø¯Ù‡ Ø¹Ù„ÙˆÙ… Ù¾Ø§ÛŒÙ‡
ğŸ« ÙˆØ±ÙˆØ¯: Ø±Ø§ÛŒÚ¯Ø§Ù† (Ø¨Ø§ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ù‚Ø¨Ù„ÛŒ)

**ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø³Ù…ÛŒÙ†Ø§Ø±:**
- Ø§Ø±Ø§Ø¦Ù‡ Ø¨Ù‡ Ø²Ø¨Ø§Ù† Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø¨Ø§ ØªØ±Ø¬Ù…Ù‡ Ù‡Ù…Ø²Ù…Ø§Ù†
- Ø§Ù‡Ø¯Ø§ÛŒ Ú¯ÙˆØ§Ù‡ÛŒ Ø´Ø±Ú©Øª
- ÙØ±ØµØª Ù¾Ø±Ø³Ø´ Ùˆ Ù¾Ø§Ø³Ø® Ù…Ø³ØªÙ‚ÛŒÙ… Ø¨Ø§ Ø³Ø®Ù†Ø±Ø§Ù†
- Ù¾Ø°ÛŒØ±Ø§ÛŒÛŒ Ø¯Ø± Ù¾Ø§ÛŒØ§Ù† Ø¬Ù„Ø³Ù‡

Ø§ÛŒÙ† Ø³Ù…ÛŒÙ†Ø§Ø± ÙØ±ØµØª Ø¨ÛŒâ€ŒÙ†Ø¸ÛŒØ±ÛŒ Ø¨Ø±Ø§ÛŒ Ø¢Ø´Ù†Ø§ÛŒÛŒ Ø¨Ø§ Ø¢Ø®Ø±ÛŒÙ† Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§ Ø¯Ø± Ø­ÙˆØ²Ù‡ Ù…Ø­Ø§Ø³Ø¨Ø§Øª Ú©ÙˆØ§Ù†ØªÙˆÙ…ÛŒ Ùˆ ØªØ¹Ø§Ù…Ù„ Ø¨Ø§ ÛŒÚ©ÛŒ Ø§Ø² Ù¾ÛŒØ´Ú¯Ø§Ù…Ø§Ù† Ø§ÛŒÙ† Ø­ÙˆØ²Ù‡ Ù…ÛŒâ€ŒØ¨Ø§Ø´Ø¯.

**Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…:** Ø§Ø² Ø·Ø±ÛŒÙ‚ Ø³Ø§ÛŒØª Ø§Ù†Ø¬Ù…Ù† ÛŒØ§ Ø­Ø¶ÙˆØ± Ø¯Ø± Ø¯ÙØªØ± Ø§Ù†Ø¬Ù…Ù†`,
    date: 'Û²Û° Ø§Ø±Ø¯ÛŒØ¨Ù‡Ø´Øª Û±Û´Û°Û´',
    author: {
      name: 'Ù¾Ø±ÙˆÙØ³ÙˆØ± Ø¹Ù„ÛŒ Ø¬Ø§Ù†Ø³ÙˆÙ†',
      email: 'a.johnson@university.ac.ir'
    },
    commentCount: 3,
  },
  '3': {
    id: '3',
    title: 'Ø«Ø¨Øª Ù†Ø§Ù… Ø¨Ø±Ù†Ø§Ù…Ù‡ Ù¾Ú˜ÙˆÙ‡Ø´ÛŒ ØªØ§Ø¨Ø³ØªØ§Ù† Ø¢ØºØ§Ø² Ø´Ø¯',
    content: `Ø§Ù†Ø¬Ù…Ù† Ø¹Ù„Ù…ÛŒ Ø§ÙÙ‚ Ø±ÙˆÛŒØ¯Ø§Ø¯ Ø§Ø¹Ù„Ø§Ù… Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ú©Ù‡ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø¨Ø±Ø§ÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡ Ù¾Ú˜ÙˆÙ‡Ø´ÛŒ ØªØ§Ø¨Ø³ØªØ§Ù† Û±Û´Û°Û´ Ø±Ø³Ù…Ø§Ù‹ Ø¢ØºØ§Ø² Ø´Ø¯Ù‡ Ø§Ø³Øª.

**Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ø¨Ø±Ù†Ø§Ù…Ù‡:**
Ø¨Ø±Ù†Ø§Ù…Ù‡ Ù¾Ú˜ÙˆÙ‡Ø´ÛŒ ØªØ§Ø¨Ø³ØªØ§Ù† ÙØ±ØµØªÛŒ Ø§Ø³ØªØ«Ù†Ø§ÛŒÛŒ Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ù†Ø´Ø¬ÙˆÛŒØ§Ù† Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ Ø¨Ù‡ ØªØ­Ù‚ÛŒÙ‚ Ø§Ø³Øª ØªØ§ Ø¯Ø± Ù…Ø­ÛŒØ·ÛŒ Ø¹Ù„Ù…ÛŒ Ùˆ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒØŒ ØªØ¬Ø±Ø¨Ù‡ Ø¹Ù…Ù„ÛŒ Ù¾Ú˜ÙˆÙ‡Ø´ Ú©Ø³Ø¨ Ú©Ù†Ù†Ø¯.

**Ø­ÙˆØ²Ù‡â€ŒÙ‡Ø§ÛŒ ØªØ­Ù‚ÛŒÙ‚Ø§ØªÛŒ:**
ğŸ§ª Ø´ÛŒÙ…ÛŒ ØªØ¬Ø²ÛŒÙ‡ Ùˆ Ø¢Ù„ÛŒ
ğŸ”¬ ÙÛŒØ²ÛŒÚ© Ù†Ø¸Ø±ÛŒ Ùˆ ØªØ¬Ø±Ø¨ÛŒ  
ğŸ§¬ Ø²ÛŒØ³Øªâ€ŒØ´Ù†Ø§Ø³ÛŒ Ù…ÙˆÙ„Ú©ÙˆÙ„ÛŒ
ğŸŒ± Ø¹Ù„ÙˆÙ… Ù…Ø­ÛŒØ· Ø²ÛŒØ³Øª
ğŸ’» Ø¨ÛŒÙˆØ§Ù†ÙÙˆØ±Ù…Ø§ØªÛŒÚ©

**Ù…Ø²Ø§ÛŒØ§ÛŒ Ø´Ø±Ú©Øª:**
âœ… Ù‡Ù…Ú©Ø§Ø±ÛŒ Ù…Ø³ØªÙ‚ÛŒÙ… Ø¨Ø§ Ø§Ø³Ø§ØªÛŒØ¯ Ù…Ø¬Ø±Ø¨
âœ… Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø¢Ø²Ù…Ø§ÛŒØ´Ú¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡
âœ… Ú©Ù…Ú© Ù‡Ø²ÛŒÙ†Ù‡ Ù…Ø§Ù‡Ø§Ù†Ù‡
âœ… Ø§Ù‡Ø¯Ø§ÛŒ Ú¯ÙˆØ§Ù‡ÛŒâ€ŒÙ†Ø§Ù…Ù‡ Ù…Ø¹ØªØ¨Ø±
âœ… Ø§Ù…Ú©Ø§Ù† Ø§Ø¯Ø§Ù…Ù‡ Ù‡Ù…Ú©Ø§Ø±ÛŒ Ø¯Ø± Ø³Ø§Ù„ ØªØ­ØµÛŒÙ„ÛŒ
âœ… Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒ Ø¯Ø± Ø§Ù†ØªØ®Ø§Ø¨ Ø±Ø´ØªÙ‡ ØªØ­ØµÛŒÙ„Ø§Øª ØªÚ©Ù…ÛŒÙ„ÛŒ

**Ø´Ø±Ø§ÛŒØ· Ù¾Ø°ÛŒØ±Ø´:**
- Ø¯Ø§Ù†Ø´Ø¬ÙˆÛŒ Ù…Ù‚Ø§Ø·Ø¹ Ú©Ø§Ø±Ø´Ù†Ø§Ø³ÛŒ ÛŒØ§ Ú©Ø§Ø±Ø´Ù†Ø§Ø³ÛŒ Ø§Ø±Ø´Ø¯
- Ø­Ø¯Ø§Ù‚Ù„ Ù…Ø¹Ø¯Ù„ Û±Û¶
- Ú¯Ø°Ø±Ø§Ù†Ø¯Ù† Ù…ÙˆÙÙ‚ÛŒØªâ€ŒØ¢Ù…ÛŒØ² Ø¯Ø±ÙˆØ³ Ù¾Ø§ÛŒÙ‡ Ù…Ø±ØªØ¨Ø·
- Ø§Ø±Ø§Ø¦Ù‡ Ù†Ø§Ù…Ù‡ ØªÙˆØµÛŒÙ‡ Ø§Ø² Ø§Ø³ØªØ§Ø¯ Ø±Ø§Ù‡Ù†Ù…Ø§

**Ù…Ø¯Øª Ø¨Ø±Ù†Ø§Ù…Ù‡:** Û±Û° Ù‡ÙØªÙ‡ (Ø§Ø² Ø§ÙˆÙ„ ØªÛŒØ±Ù…Ø§Ù‡)
**Ù…Ù‡Ù„Øª Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…:** ØªØ§ Û±Ûµ Ø®Ø±Ø¯Ø§Ø¯Ù…Ø§Ù‡

**Ù†Ø­ÙˆÙ‡ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…:**
Ù„Ø·ÙØ§Ù‹ ÙØ±Ù… Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø±Ø§ Ø§Ø² ÙˆØ¨â€ŒØ³Ø§ÛŒØª Ø§Ù†Ø¬Ù…Ù† Ø¯Ø§Ù†Ù„ÙˆØ¯ Ú©Ø±Ø¯Ù‡ Ùˆ Ù‡Ù…Ø±Ø§Ù‡ Ø¨Ø§ Ù…Ø¯Ø§Ø±Ú© Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø¯ÙØªØ± Ø§Ù†Ø¬Ù…Ù† ØªØ­ÙˆÛŒÙ„ Ø¯Ù‡ÛŒØ¯.

Ø§ÛŒÙ† ÙØ±ØµØª Ø·Ù„Ø§ÛŒÛŒ Ø±Ø§ Ø§Ø² Ø¯Ø³Øª Ù†Ø¯Ù‡ÛŒØ¯!`,
    date: 'Û±Ûµ Ø§Ø±Ø¯ÛŒØ¨Ù‡Ø´Øª Û±Û´Û°Û´',
    author: {
      name: 'Ø¯Ú©ØªØ± Ø§Ù…ÛŒÙ„ÛŒ ÙˆÙ†Ú¯',
      email: 'e.wong@university.ac.ir'
    },
    commentCount: 7,
  },
};

const AnnouncementDetailPage: React.FC = () => {
  const { id } = useParams();
  const [announcement, setAnnouncement] = useState<any>(null);
  const [isLoading, setIsLoading] = useState(true);

  useEffect(() => {
    // Simulate loading
    setTimeout(() => {
      if (id && mockAnnouncements[id as keyof typeof mockAnnouncements]) {
        setAnnouncement(mockAnnouncements[id as keyof typeof mockAnnouncements]);
      }
      setIsLoading(false);
    }, 500);
  }, [id]);

  if (isLoading) {
    return (
      <div className="container py-8 px-4">
        <div className="mb-8">
          <Skeleton className="h-10 w-2/3 mb-2" />
          <Skeleton className="h-5 w-1/3" />
        </div>
        <Card>
          <CardHeader>
            <Skeleton className="h-8 w-3/4 mb-2" />
            <Skeleton className="h-5 w-2/4" />
          </CardHeader>
          <CardContent className="space-y-4">
            <Skeleton className="h-4 w-full" />
            <Skeleton className="h-4 w-full" />
            <Skeleton className="h-4 w-full" />
            <Skeleton className="h-4 w-4/5" />
            <Skeleton className="h-4 w-3/4" />
          </CardContent>
        </Card>
      </div>
    );
  }

  if (!announcement) {
    return (
      <div className="container py-8 px-4 text-center">
        <h1 className="text-3xl font-bold mb-4 text-navy dark:text-white">Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡ ÛŒØ§ÙØª Ù†Ø´Ø¯</h1>
        <p className="mb-6 text-muted-foreground">Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± ÛŒØ§ÙØª Ù†Ø´Ø¯ ÛŒØ§ Ù…Ù…Ú©Ù† Ø§Ø³Øª Ø­Ø°Ù Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯.</p>
        <Link to="/announcements">
          <Button>Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù„ÛŒØ³Øª Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡â€ŒÙ‡Ø§</Button>
        </Link>
      </div>
    );
  }

  return (
    <div className="container py-8 px-4">
      <div className="mb-6">
        <Link to="/announcements" className="flex items-center text-gold hover:underline mb-4">
          <ChevronRight className="mr-1 h-4 w-4 rotate-180" />
          Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù„ÛŒØ³Øª Ø§Ø·Ù„Ø§Ø¹ÛŒÙ‡â€ŒÙ‡Ø§
        </Link>
        <h1 className="text-3xl font-bold mb-2 text-navy dark:text-white">{announcement.title}</h1>
        
        <div className="flex items-center space-x-4 space-x-reverse mb-6">
          <div className="flex items-center">
            <Avatar className="h-8 w-8 mr-2">
              <AvatarFallback>{announcement.author?.name?.charAt(0) || 'Ù†'}</AvatarFallback>
            </Avatar>
            <span className="text-sm text-muted-foreground">{announcement.author?.name}</span>
          </div>
          <div className="flex items-center text-sm text-muted-foreground">
            <Calendar className="h-4 w-4 ml-1" />
            {announcement.date}
          </div>
        </div>
      </div>

      <Card>
        <CardContent className="p-6">
          <div className="prose dark:prose-invert max-w-none whitespace-pre-line text-right">
            {announcement.content}
          </div>
        </CardContent>
      </Card>

      {/* Comment Section */}
      <CommentSection contentType="announcement" contentId={announcement.id} />
    </div>
  );
};

export default AnnouncementDetailPage;
